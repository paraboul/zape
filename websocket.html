<html>
    <head></head>
    <body>
        <script>
          console.log("Starting ws connection...");

          const socket = new WebSocket("ws://127.0.0.1:80/hello");

          // Connection opened
          socket.addEventListener("open", (event) => {
            console.log("Connexion accepted by server");

            setInterval(() => {
              socket.send("Hello Server!");
            }, 100)

          });

          // Listen for messages
          socket.addEventListener("message", (event) => {
            console.log("Message from server ", event.data);
          });

          socket.addEventListener("error", (event) => {
            console.log("Errorr", event.error);
          });

          socket.addEventListener("close", (event) => {
            console.log("Connexion closed...");
          });
        </script>
    </body>
</html>
